<h1>fs-minipass</h1><p>Filesystem streams based on <a href="http://npm.im/minipass">minipass</a>.</p>
<p>4 classes are exported:</p>
<ul>
<li>ReadStream</li>
<li>ReadStreamSync</li>
<li>WriteStream</li>
<li>WriteStreamSync</li>
</ul>
<p>When using <code>ReadStreamSync</code>, all of the data is made available
immediately upon consuming the stream.  Nothing is buffered in memory
when the stream is constructed.  If the stream is piped to a writer,
then it will synchronously <code>read()</code> and emit data into the writer as
fast as the writer can consume it.  (That is, it will respect
backpressure.)  If you call <code>stream.read()</code> then it will read the
entire file and return the contents.</p>
<p>When using <code>WriteStreamSync</code>, every write is flushed to the file
synchronously.  If your writes all come in a single tick, then it&#39;ll
write it all out in a single tick.  It&#39;s as synchronous as you are.</p>
<p>The async versions work much like their node builtin counterparts,
with the exception of introducing significantly less Stream machinery
overhead.</p>
<h2>USAGE</h2><p>It&#39;s just streams, you pipe them or read() them or write() to them.</p>
<pre><code class="language-js">const fsm = require(&#39;fs-minipass&#39;)
const readStream = new fsm.ReadStream(&#39;file.txt&#39;)
const writeStream = new fsm.WriteStream(&#39;output.txt&#39;)
writeStream.write(&#39;some file header or whatever\n&#39;)
readStream.pipe(writeStream)
</code></pre>
<h2>ReadStream(path, options)</h2><p>Path string is required, but somewhat irrelevant if an open file
descriptor is passed in as an option.</p>
<p>Options:</p>
<ul>
<li><code>fd</code> Pass in a numeric file descriptor, if the file is already open.</li>
<li><code>readSize</code> The size of reads to do, defaults to 16MB</li>
<li><code>size</code> The size of the file, if known.  Prevents zero-byte read()
call at the end.</li>
<li><code>autoClose</code> Set to <code>false</code> to prevent the file descriptor from being
closed when the file is done being read.</li>
</ul>
<h2>WriteStream(path, options)</h2><p>Path string is required, but somewhat irrelevant if an open file
descriptor is passed in as an option.</p>
<p>Options:</p>
<ul>
<li><code>fd</code> Pass in a numeric file descriptor, if the file is already open.</li>
<li><code>mode</code> The mode to create the file with. Defaults to <code>0o666</code>.</li>
<li><code>start</code> The position in the file to start reading.  If not
specified, then the file will start writing at position zero, and be
truncated by default.</li>
<li><code>autoClose</code> Set to <code>false</code> to prevent the file descriptor from being
closed when the stream is ended.</li>
<li><code>flags</code> Flags to use when opening the file.  Irrelevant if <code>fd</code> is
passed in, since file won&#39;t be opened in that case.  Defaults to
<code>&#39;a&#39;</code> if a <code>pos</code> is specified, or <code>&#39;w&#39;</code> otherwise.</li>
</ul>
